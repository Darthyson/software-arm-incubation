// automatically generated from jung2138-pa-programmieren.trx

#include "sb_proto_test.h"
#include "sb_bus.h"
#include "Basic.h"

static void verify_address(void)
{
    CU_ASSERT(sbOwnPhysicalAddr == 0x1112);
}

static void verify_restart(void)
{
    CU_ASSERT(sbStatus == 0x00);
}

Telegram prog_pa_t[] =
{ {TEL_RX,  8, 1, NULL, {0xB0, 0x00, 0x00, 0x00, 0x00, 0xE1, 0x01, 0x00}}  // 0
, {TEL_TX,  8, 0, NULL, {0xB0, 0x11, 0xC9, 0x00, 0x00, 0xE1, 0x01, 0x40}}  // 1
, {TEL_RX,  7, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x60, 0x80}}        // 2
, {TEL_RX,  8, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x61, 0x43, 0x00}}  // 3
, {TEL_RX,  7, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x60, 0x81}}        // 4
, {TEL_RX, 10, 0, verify_address, {0xB0, 0x00, 0x00, 0x00, 0x00, 0xE3, 0x00, 0xC0, 0x11, 0x12}} // 5
, {TEL_RX,  8, 1, NULL, {0xB0, 0x00, 0x00, 0x00, 0x00, 0xE1, 0x01, 0x00}}  // 6
, {TEL_TX,  8, 0, NULL, {0xB0, 0x11, 0x12, 0x00, 0x00, 0xE1, 0x01, 0x40}}  // 7
, {TEL_RX,  7, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x60, 0x80}}        // 8
, {TEL_RX,  8, 2, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x61, 0x43, 0x00}}  // 9
, {TEL_TX,  7, 0, NULL, {0xB0, 0x11, 0x12, 0x00, 0x00, 0x60, 0xC2}}        // 10
, {TEL_TX, 10, 0, NULL, {0xB0, 0x11, 0x12, 0x00, 0x00, 0x63, 0x43, 0x40, 0x00, 0x12}} // 11
, {TEL_RX,  7, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x60, 0xC2}}        // 12
, {TEL_RX,  8, 0, verify_restart, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x61, 0x47, 0x80}}  // 13
, {TEL_RX,  7, 0, NULL, {0xB0, 0x00, 0x00, 0x11, 0x12, 0x60, 0x81}}        // 14
, {TEL_RX,  8, 0, NULL, {0xB0, 0x00, 0x00, 0x00, 0x00, 0xE1, 0x01, 0x00}}  // 15
, {END}
};

void prog_pa_setup(void)
{
    sbOwnPhysicalAddr = 0x11C9; // 1.1.201, make it != 1.1.18 which we try to program
}

Test_Case prog_pa =
{ "Program PA"
, 0x01              // sbState
, prog_pa_setup     // init function
, prog_pa_t         // telegrams
};
